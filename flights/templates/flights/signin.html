{% extends "flights/base.html" %}

{% block title %}NASIM | Sign In{% endblock %}

{% block content %}
<main class="auth-wrap">
  <header class="auth-top">
    <a class="brand" href="/">NASIM AIRWAYS</a>
    <a class="admin-link" href="/ops-signin/">Admin sign in</a>
  </header>

  <section class="auth-card">
    <h1>Sign in to continue booking</h1>
    <p>Use your passenger account to book and manage flights.</p>

    <form method="post" class="auth-form">
      {% csrf_token %}
      <label for="id_identifier">Email or username</label>
      {{ form.identifier }}
      {% if form.identifier.errors %}<span class="error">{{ form.identifier.errors|striptags }}</span>{% endif %}

      <label for="id_password">Password</label>
      {{ form.password }}
      {% if form.password.errors %}<span class="error">{{ form.password.errors|striptags }}</span>{% endif %}
      {% if form.non_field_errors %}<span class="error">{{ form.non_field_errors|striptags }}</span>{% endif %}

      <button type="submit">Sign in</button>
    </form>

    <p class="alt">
      New passenger?
      <a href="/signup/{% if request.GET.next %}?next={{ request.GET.next|urlencode }}{% endif %}">Create account</a>
    </p>
  </section>
</main>

<style>
  :root {
    --plum-900: #2a0c3f;
    --plum-800: #3b1458;
    --gold-500: #d3a24f;
  }

  body {
    margin: 0;
    font-family: "Avenir Next", "Gill Sans", sans-serif;
    background:
      radial-gradient(880px 500px at 0% -8%, rgba(154, 100, 197, 0.25), transparent 58%),
      radial-gradient(800px 500px at 100% 0%, rgba(225, 186, 114, 0.14), transparent 56%),
      linear-gradient(160deg, #190729 0%, #2b0d41 42%, #3d1560 100%);
    min-height: 100vh;
  }

  .auth-wrap { max-width: 560px; margin: 0 auto; padding: 1.3rem 1rem 6rem; }
  .auth-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
  .brand { color: #f6ecff; text-decoration: none; font-weight: 800; letter-spacing: .08em; }
  .admin-link { color: #eeddfc; text-decoration: none; font-size: .85rem; }

  .auth-card {
    background: rgba(255, 255, 255, .97);
    border: 1px solid rgba(129, 84, 173, .25);
    border-radius: 18px;
    padding: 1.1rem;
    box-shadow: 0 14px 32px rgba(26, 9, 39, .2);
  }

  h1 { margin: 0; color: #3d2554; }
  p { color: #6f5d7f; }
  .auth-form { display: grid; gap: .58rem; margin-top: .6rem; }
  label { font-weight: 600; color: #503e62; }
  input {
    border: 1px solid #d7c3e8;
    border-radius: 9px;
    padding: .62rem;
    font: inherit;
    background: #fffdff;
  }
  button {
    border: 1px solid #a8793a;
    border-radius: 9px;
    background: linear-gradient(180deg, #e1ba72, #c79244);
    color: #fff8ef;
    padding: .6rem;
    font-weight: 700;
    cursor: pointer;
  }
  .error { color: #9b2f2f; font-size: .84rem; }
  .alt { margin-top: .8rem; }
  .alt a { color: #6b2f96; font-weight: 700; }
</style>
{% endblock %}
